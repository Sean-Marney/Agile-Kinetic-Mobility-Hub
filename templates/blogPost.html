<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>

    <h2>Blog Post</h2>
    <form id='addBlogPost' onsubmit="return loadPost()">
      <label>Message:<input type = "text" name = "message"><br></label>
      <button type = "submit"> submit </button>
    </form>
    <span id='txt'></span>

  </body>

  <script>
    function loadPost() {
      var message = document.forms["addBlogPost"]["message"].value;
      params = 'message='+message;
      var xhttp = new XMLHttpRequest();
      xhttp.open("POST", '/blog/AddBlogPost', true); // true is asynchronous
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhttp.onload = function() {
        if (xhttp.readyState === 4 && xhttp.status === 200) {
          console.log(xhttp.responseText);
          document.getElementById("txt").innerHTML = xhttp.responseText;
        } else {
          console.error(xhttp.statusText);
        }
      };
      xhttp.send(params);
      return false;
    }

  </script>

</html>
