<!DOCTYPE html>
<html lang="en" dir="ltr">

  <style>

    #titleBar{
      background-color: #22B2B8;
      text-align: center;
      color: white;
      padding: 10px;
      font-size: 20px;
    }

    #newBlogPost{
      background-color: #22B2B8;
      border-radius: 5px;
      margin: 10px;
      max-width: 500px;
      padding: 20px;
      color: white;
    }

    #addBlogPost{
    }

  </style>

  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <link href="/static/fonts/futura-pt-book/stylesheet.css" rel="stylesheet">
    <title></title>
  </head>

  <header>
    <div id="nav-placeholder"></div>
    <div id="titleBar">
      <h1>Blog Management</h1>
    <div>
  </header>

  <body>
    <div id="newBlogPost">
      <h2>Add a new blog post</h2>
      <form id='addBlogPost' onsubmit="return loadPost()">
        <textarea name="message" rows="5" cols="50"></textarea><br>
        <button type = "submit"> submit </button>
      </form>
      <span id='txt'></span>
    </div>
  </body>

  <script>
  $(function(){
    $("#nav-placeholder").load("navBar.html");
  });
  </script>

  <script>
    function loadPost() {
      var message = document.forms["addBlogPost"]["message"].value;
      params = 'message='+message;
      var xhttp = new XMLHttpRequest();
      xhttp.open("POST", '/blog/management', true); // true is asynchronous
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhttp.onload = function() {
        if (xhttp.readyState === 4 && xhttp.status === 200) {
          console.log(xhttp.responseText);
          document.getElementById("txt").innerHTML = xhttp.responseText;
        } else {
          console.error(xhttp.statusText);
        }
      };
      xhttp.send(params);
      return false;
    }

  </script>
</html>
